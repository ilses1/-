import{_ as V}from"./CpIcon-8ee8332b.js";import{u as N}from"./index-4906b622.js";import{d as y,a as d,b as u,e,c as t,t as i,w as o,h as C,f,F as b,v as x,n as P,g as I,_ as S,r as g,x as j,p as F,k as T,y as A,s as E}from"./index-e92d1c66.js";import{I as z}from"./index-e224cb23.js";import{B}from"./index-366e2f39.js";import{g as H,a as M}from"./consult-544b3527.js";import{L as W,T as q,a as G}from"./index-766fafc5.js";import{u as J}from"./index-07659cf1.js";import{S as K,a as L}from"./index-ef91f42b.js";import{C as O}from"./index-e2c7d3ed.js";import{C as Q,R as X}from"./index-53ccc05c.js";import"./order-e0974591.js";import"./request-14faacb8.js";import"./index-a2f0c7ad.js";import"./interceptor-a823686a.js";import"./use-route-70d6c1c8.js";import"./use-id-9e27a97e.js";import"./use-refs-7c3c1893.js";const R="/assets/ad-c4ee3bf4.png",Y={class:"knowledge-card van-hairline--bottom"},Z={class:"head"},tt={class:"info"},et={class:"name"},st={class:"dep van-ellipsis"},ot={class:"body"},at={class:"title van-ellipsis"},nt={class:"tag"},lt={class:"intro van-multi-ellipsis--l2"},ct={class:"logs"},it=y({__name:"KnowledgeCard",props:{item:null},setup(s){const{loading:p,follow:_}=N("knowledge");return(v,l)=>{const n=z,c=B;return d(),u("div",Y,[e("div",Z,[t(n,{round:"",class:"avatar",src:s.item.creatorAvatar},null,8,["src"]),e("div",tt,[e("p",et,i(s.item.creatorName),1),e("p",st,i(s.item.creatorHospatalName)+" "+i(s.item.creatorDep)+" "+i(s.item.creatorTitles),1)]),t(c,{loading:f(p),onClick:l[0]||(l[0]=a=>f(_)(s.item)),class:"btn",size:"small",round:""},{default:o(()=>[C(i(s.item.likeFlag===1?"已关注":"+ 关注"),1)]),_:1},8,["loading"])]),e("div",ot,[e("h3",at,i(s.item.title),1),e("p",nt,[(d(!0),u(b,null,x(s.item.topics,(a,m)=>(d(),u("span",{key:m},"# "+i(a),1))),128))]),e("p",lt,i(s.item.content.replace(/<[^>]+>/g,"")),1),e("div",{class:P(["imgs",{large:s.item.coverUrl.length===1}])},[(d(!0),u(b,null,x(s.item.coverUrl,(a,m)=>(d(),I(n,{fit:"cover",key:m,src:a},null,8,["src"]))),128))],2),e("p",ct,[e("span",null,i(s.item.collectionNumber)+" 收藏",1),e("span",null,i(s.item.commentNumber)+" 评论",1)])])])}}});const _t=S(it,[["__scopeId","data-v-62800d2a"]]),dt={class:"knowledge-list"},k=y({__name:"KnowledgeList",props:{type:null},setup(s){const p=s,_=g(!1),v=g(!1),l=g([]),n=g({type:p.type,current:1,pageSize:10}),c=async()=>{const a=await H(n.value);l.value.push(...a.data.rows),console.log(l.value),n.value.current>=a.data.pageTotal?v.value=!0:n.value.current++,_.value=!1};return(a,m)=>{const h=W;return d(),u("div",dt,[t(h,{loading:_.value,"onUpdate:loading":m[0]||(m[0]=w=>_.value=w),finished:v.value,"finished-text":"没有更多了",onLoad:c},{default:o(()=>[(d(!0),u(b,null,x(l.value,(w,$)=>(d(),I(_t,{item:w,key:$},null,8,["item"]))),128))]),_:1},8,["loading","finished"])])}}}),rt={class:"doctor-card"},mt={class:"name"},ut={class:"van-ellipsis"},pt=y({__name:"DoctorCard",props:{item:null},setup(s){const{loading:p,follow:_}=N();return(v,l)=>{const n=z,c=B;return d(),u("div",rt,[t(n,{round:"",src:s.item.avatar},null,8,["src"]),e("p",mt,i(s.item.name),1),e("p",ut,i(s.item.hospitalName)+" "+i(s.item.depName),1),e("p",null,i(s.item.positionalTitles),1),t(c,{loading:f(p),onClick:l[0]||(l[0]=a=>f(_)(s.item)),round:"",size:"small",type:"primary"},{default:o(()=>[C(i(s.item.likeFlag===1?"已关注":"+ 关注"),1)]),_:1},8,["loading"])])}}});const vt=S(pt,[["__scopeId","data-v-f545a3d0"]]),ft=s=>(F("data-v-31b6f283"),s=s(),T(),s),ht={class:"follow-doctor"},gt=ft(()=>e("div",{className:"head"},[e("p",null,"推荐关注"),e("a",{href:"javascript:;"},[C(" 查看更多"),e("i",{class:"van-icon van-icon-arrow"})])],-1)),wt={class:"body"},yt=y({__name:"FollowDoctor",setup(s){const{width:p}=J(),_=g(),v=async()=>{const l=await M({current:1,pageSize:5});_.value=l.data.rows};return j(()=>v()),(l,n)=>{const c=L,a=K;return d(),u("div",ht,[gt,e("div",wt,[t(a,{width:150/375*f(p),"show-indicators":!1,loop:!1},{default:o(()=>[(d(!0),u(b,null,x(_.value,m=>(d(),I(c,{key:m.id},{default:o(()=>[t(vt,{item:m},null,8,["item"])]),_:2},1024))),128))]),_:1},8,["width"])])])}}});const $t=S(yt,[["__scopeId","data-v-31b6f283"]]),r=s=>(F("data-v-d56ae524"),s=s(),T(),s),kt={class:"home-page"},bt={class:"home-header"},xt={class:"con"},Ct=r(()=>e("h1",null,"优医",-1)),St={class:"search"},It={class:"home-navs"},Dt=r(()=>e("p",{class:"title"},"问医生",-1)),Nt=r(()=>e("p",{class:"desc"},"按科室查问医生",-1)),Ft=r(()=>e("p",{class:"title"},"极速问诊",-1)),Tt=r(()=>e("p",{class:"desc"},"20s医生极速回复",-1)),zt=r(()=>e("p",{class:"title"},"开药门诊",-1)),Bt=r(()=>e("p",{class:"desc"},"线上买药更方便",-1)),Kt=r(()=>e("p",{class:"title"},"药品订单",-1)),Lt=r(()=>e("p",{class:"title"},"健康档案",-1)),Rt=r(()=>e("p",{class:"title"},"我的处方",-1)),Ut=r(()=>e("p",{class:"title"},"疾病查询",-1)),Vt={class:"home-banner"},Pt=r(()=>e("img",{src:R,alt:""},null,-1)),jt=r(()=>e("img",{src:R,alt:""},null,-1)),At=y({__name:"index",setup(s){const p=A(),_=g(1);return(v,l)=>{const n=V,c=E("router-link"),a=Q,m=X,h=q,w=G,$=L,U=K;return d(),u("div",kt,[e("div",bt,[e("div",xt,[Ct,e("div",St,[t(n,{name:"home-search"}),C(" 搜一搜：疾病/症状/医生/健康知识")])])]),e("div",It,[t(m,null,{default:o(()=>[t(a,{span:"8"},{default:o(()=>[t(c,{to:"/",class:"nav"},{default:o(()=>[t(n,{name:"home-doctor"}),Dt,Nt]),_:1})]),_:1}),t(a,{span:"8"},{default:o(()=>[t(c,{to:"/consult/fast",onClick:l[0]||(l[0]=D=>f(p).setType(f(O).Fast)),class:"nav"},{default:o(()=>[t(n,{name:"home-graphic"}),Ft,Tt]),_:1})]),_:1}),t(a,{span:"8"},{default:o(()=>[t(c,{to:"/",class:"nav"},{default:o(()=>[t(n,{name:"home-prescribe"}),zt,Bt]),_:1})]),_:1})]),_:1}),t(m,null,{default:o(()=>[t(a,{span:"6"},{default:o(()=>[t(c,{to:"/",class:"nav min"},{default:o(()=>[t(n,{name:"home-order"}),Kt]),_:1})]),_:1}),t(a,{span:"6"},{default:o(()=>[t(c,{to:"/",class:"nav min"},{default:o(()=>[t(n,{name:"home-docs"}),Lt]),_:1})]),_:1}),t(a,{span:"6"},{default:o(()=>[t(c,{to:"/",class:"nav min"},{default:o(()=>[t(n,{name:"home-rp"}),Rt]),_:1})]),_:1}),t(a,{span:"6"},{default:o(()=>[t(c,{to:"/",class:"nav min"},{default:o(()=>[t(n,{name:"home-find"}),Ut]),_:1})]),_:1})]),_:1})]),t(w,{shrink:"",sticky:"",active:_.value,"onUpdate:active":l[1]||(l[1]=D=>_.value=D)},{default:o(()=>[t(h,{title:"关注"},{default:o(()=>[t($t),t(k,{type:"like"})]),_:1}),t(h,{title:"推荐"},{default:o(()=>[t(k,{type:"fatReduction"})]),_:1}),t(h,{title:"减脂"},{default:o(()=>[t(k,{type:"fatReduction"})]),_:1}),t(h,{title:"饮食"},{default:o(()=>[t(k,{type:"food"})]),_:1})]),_:1},8,["active"]),e("div",Vt,[t(U,{"indicator-color":"#fff"},{default:o(()=>[t($,null,{default:o(()=>[Pt]),_:1}),t($,null,{default:o(()=>[jt]),_:1})]),_:1})])])}}});const le=S(At,[["__scopeId","data-v-d56ae524"]]);export{le as default};
