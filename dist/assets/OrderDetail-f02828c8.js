import{_ as S}from"./CpNavBar-aed588de.js";import{d as D}from"./index-4906b622.js";import{O as r}from"./index-e2c7d3ed.js";import{d as I,c as a,q as T,a as n,b as _,F as P,v as w,e as s,t as i,g as v,w as m,h as M,z as d,p as N,k as A,_ as B,f as e,j as V}from"./index-e92d1c66.js";import{T as F}from"./index-7b16e30e.js";import{b as R,A as j,a as q}from"./index-bc427075.js";import{c as z,e as E,n as G,f as K,b as L,d as Y,I as O,w as H}from"./index-a2f0c7ad.js";import{r as J,u as Q}from"./use-route-70d6c1c8.js";import{C as U}from"./index-10845d08.js";import{C as W}from"./index-ca072881.js";import"./use-placeholder-84776c27.js";import"./consult-544b3527.js";import"./request-14faacb8.js";import"./interceptor-a823686a.js";import"./order-e0974591.js";import"./index-366e2f39.js";const[X,k]=z("action-bar-icon"),Z=E({},J,{dot:Boolean,text:String,icon:String,color:String,badge:G,iconClass:K,badgeProps:Object,iconPrefix:String});var ee=I({name:X,props:Z,setup(l,{slots:p}){const t=Q();L(R);const f=()=>{const{dot:o,badge:g,icon:h,color:c,iconClass:x,badgeProps:y,iconPrefix:u}=l;return p.icon?a(Y,T({dot:o,class:k("icon"),content:g},y),{default:p.icon}):a(O,{tag:"div",dot:o,name:h,badge:g,color:c,class:[k("icon"),x],badgeProps:y,classPrefix:u},null)};return()=>a("div",{role:"button",class:k(),tabindex:0,onClick:t},[f(),p.default?p.default():l.text])}});const te=H(ee),ae=l=>(N("data-v-e0b02dbb"),l=l(),A(),l),se={class:"order-medical"},oe=ae(()=>s("div",{class:"head"},[s("h3",null,"优医药房"),s("small",null,"优医质保 假一赔十")],-1)),ne=["src"],ie={class:"info"},re={class:"name"},ce={class:"size"},le={class:"price"},de={key:0,class:"desc"},ue=I({__name:"OrderMedical",props:{medicines:{default:()=>[]}},setup(l){return(p,t)=>{const f=F;return n(),_("div",se,[oe,(n(!0),_(P,null,w(l.medicines,o=>(n(),_("div",{class:"item van-hairline--top",key:o.id},[s("img",{class:"img",src:o.avatar,alt:""},null,8,ne),s("div",ie,[s("p",re,[s("span",null,i(o.name),1),s("span",null,"x"+i(o.quantity),1)]),s("p",ce,[o.prescriptionFlag===1?(n(),v(f,{key:0},{default:m(()=>[M("处方药")]),_:1})):d("",!0),s("span",null,i(o.specs),1)]),s("p",le,"￥"+i(o.amount),1)]),o.usageDosag?(n(),_("div",de,i(o.usageDosag),1)):d("",!0)]))),128))])}}});const _e=B(ue,[["__scopeId","data-v-e0b02dbb"]]),pe={key:0,class:"order-detail-page"},me={class:"order-head"},ve={key:0,class:"address"},fe={class:"area"},ye={class:"detail"},be={class:"logistics"},ge={class:"order-detail"},he={class:"price"},xe=I({__name:"OrderDetail",setup(l){const p=V(),{order:t}=D(p.params.id);return(f,o)=>{var $;const g=S,h=O,c=U,x=W,y=te,u=j,b=q;return e(t)?(n(),_("div",pe,[a(g,{title:"药品订单-"+e(t).statusValue},null,8,["title"]),s("div",me,[e(t).status===e(r).MedicineCancel||e(t).status===e(r).MedicinePay||e(t).status===e(r).MedicineSend?(n(),_("div",ve,[s("p",fe,[a(h,{name:"location"}),s("span",null,i(e(t).addressInfo.province+e(t).addressInfo.city+e(t).addressInfo.county),1)]),s("p",ye,i(e(t).addressInfo.addressDetail),1),s("p",null,i(e(t).addressInfo.receiver)+" "+i(e(t).addressInfo.mobile.replace(/^(\d{3})\d+(\d{4})$/,"$1****$2")),1)])):(n(),_("div",{key:1,class:"card",onClick:o[0]||(o[0]=ke=>{var C;return f.$router.push(`/order/logistics/${(C=e(t))==null?void 0:C.id}`)})},[s("div",be,[s("p",null,i(e(t).expressInfo.content),1),s("p",null,i(e(t).expressInfo.time),1)]),a(h,{name:"arrow"})]))]),a(_e,{medicines:($=e(t))==null?void 0:$.medicines},null,8,["medicines"]),s("div",ge,[a(x,null,{default:m(()=>[a(c,{title:"药品金额",value:`￥${e(t).payment}`},null,8,["value"]),a(c,{title:"运费",value:`￥${e(t).expressFee}`},null,8,["value"]),a(c,{title:"优惠券",value:`-￥${e(t).couponDeduction}`},null,8,["value"]),a(c,{title:"实付款",value:`￥${e(t).actualPayment}`,class:"price"},null,8,["value"]),a(c,{title:"订单编号",value:e(t).orderNo},null,8,["value"]),a(c,{title:"创建时间",value:e(t).createTime},null,8,["value"]),e(t).status===e(r).MedicineSend||e(t).status===e(r).MedicineTake||e(t).status===e(r).MedicineComplete?(n(),_(P,{key:0},[a(c,{title:"支付时间",value:e(t).payTime},null,8,["value"]),a(c,{title:"支付方式",value:e(t).paymentMethod===0?"微信":"支付宝"},null,8,["value"])],64)):d("",!0)]),_:1})]),e(t).status===e(r).MedicineCancel?(n(),v(b,{key:0},{default:m(()=>[a(y,{icon:"delete-o",text:"删除"}),a(u,{type:"primary",text:"沟通记录"})]),_:1})):d("",!0),e(t).status===e(r).MedicineTake?(n(),v(b,{key:1},{default:m(()=>[a(u,{type:"primary",text:"确认收货"})]),_:1})):d("",!0),e(t).status===e(r).MedicineSend?(n(),v(b,{key:2},{default:m(()=>[a(u,{type:"primary",text:"提醒发货"})]),_:1})):d("",!0),e(t).status===e(r).MedicinePay?(n(),v(b,{key:3},{default:m(()=>[s("p",he,[M(" 需要支付："),s("span",null,"￥ "+i(e(t).actualPayment),1)]),a(u,{color:"#bbb",text:"取消问诊"}),a(u,{type:"primary",text:"继续支付"})]),_:1})):d("",!0),e(t).status===e(r).MedicineComplete?(n(),v(b,{key:4},{default:m(()=>[a(y,{icon:"delete-o",text:"删除"}),a(u,{type:"primary",text:"再次购买"})]),_:1})):d("",!0)])):d("",!0)}}});const je=B(xe,[["__scopeId","data-v-e16a87f8"]]);export{je as default};
